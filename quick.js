var qk=new function(){var t,e,n;this.go=function(t){i.go(t)},this.goTo=function(t){o.gotoNoArg(t)};var o=new function(){this.show=function(){this.style.display="block"},this.hide=function(){this.style.display="none"},this.gotoNoArg=function(){t[n].hide(),n=i.pageById(this.dataset.to),t[n].show()},this.gotoArg=function(e){t[n].hide(),n=e,t[n].show()},this.bindData=function(t){r.bind(t)}},r=new function(){Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(t,e){var n=this[t],o=n,r=function(){return o},i=function(r){return n=o,o=e.call(this,t,n,r)};delete this[t]&&Object.defineProperty(this,t,{get:r,set:i,enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(t){var e=this[t];delete this[t],this[t]=e}});var t={};this.bind=function(t){var e=t.innerHTML,r=o(t.dataset.source,window),e=n(r,e,t);t.innerHTML=e};var e=function(e,n,o,r){e.watch(String(n),function(e,n,o){return t[e].e.innerHTML=t[e].u,setTimeout(t[e].e.bind,0,t[e].e),o}),t[String(n)]={e:o,u:r}},n=function(t,r,i){for(var c="",a=r.split(""),u=!1,s=!1,l=!1,h="";0<a.length;)if(tok=a.shift(),"["===tok)u?(s=!0,u=!1):u=!0;else if("]"===tok)if(l){var l=s=!1,d=o(h.substring(h.indexOf("data.")+5),t);e(t,h.substring(h.indexOf("data.")+5),i,r),c+=d}else l=!0;else s?h+=tok:c+=tok;return-1<c.indexOf("[[")&&(c=n(t,c,i)),c},o=function(t,e){for(var n=t.split("."),o=e;0<n.length;)o=o[n.shift()];return o}},i=new function(){var r=function(){Array.prototype.slice.call(document.querySelectorAll("qk-link")).forEach(function(t){t.addEventListener("click",function(){t["goto"]()})})};this.pageById=function(e){for(var n=0,o=t.length;o>n;n++)if(t[n].dataset.id===e)return n;return-1},this.go=function(c){var a=Object.create(HTMLElement.prototype);a.show=o.show,a.hide=o.hide;var u=Object.create(HTMLElement.prototype);u.show=o.show,u.hide=o.hide;var s=Object.create(HTMLElement.prototype);s["goto"]=o.gotoNoArg;var l=Object.create(HTMLElement.prototype);l.bind=o.bindData;var h=Object.create(HTMLElement.prototype);for(document.registerElement("qk-page",{prototype:a}),document.registerElement("qk-const",{prototype:u}),document.registerElement("qk-link",{prototype:s}),document.registerElement("qk-data",{prototype:l}),document.registerElement("qk-input",{prototype:h}),r(),t=document.querySelectorAll("qk-page"),e=document.querySelectorAll("qk-data"),a=0,u=e.length;u>a;a++)e[a].bind(e[a]);for(c=n=i.pageById(c.home),a=0,u=t.length;u>a;a++)t[a].hide();t[c].show()}}};