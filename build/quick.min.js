var qk=new function(){var a,b,c;this.go=function(a){f.go(a)},this.goTo=function(a){d.gotoNoArg(a)};var d=new function(){this.show=function(){this.style.display="block"},this.hide=function(){this.style.display="none"},this.gotoNoArg=function(){a[c].hide(),c=f.pageById(this.dataset.to),a[c].show()},this.gotoArg=function(b){a[c].hide(),c=b,a[c].show()},this.bindData=function(a){e.bind(a)}},e=new function(){Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(a,b){var c=this[a],d=c,e=function(){return d},f=function(e){return c=d,d=b.call(this,a,c,e)};delete this[a]&&Object.defineProperty(this,a,{get:e,set:f,enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(a){var b=this[a];delete this[a],this[a]=b}}),this.bind=function(c){var d=c.innerHTML,e=b(c.dataset.source,window),d=a(e,d);c.innerHTML=d};var a=function(c,d){for(var e="";-1<d.indexOf("[[");)path=d.substring(d.indexOf("[[")+2,d.indexOf("]]")),e+=d.substring(0,d.indexOf("[[")),d=d.substring(d.indexOf("]]")+2),specObj=b(path.substring(path.indexOf("data.")+5),c),e+=specObj;return e+=d,-1<e.indexOf("[[")&&(e=a(c,e)),e},b=function(a,b){for(var c=a.split("."),d=b;0<c.length;)d=d[c.shift()];return d}},f=new function(){var e=function(){Array.prototype.slice.call(document.querySelectorAll("qk-link")).forEach(function(a){a.addEventListener("click",function(){a["goto"]()})})};this.pageById=function(b){for(var c=0,d=a.length;c<d;c++)if(a[c].dataset.id===b)return c;return-1},this.go=function(g){var h=Object.create(HTMLElement.prototype);h.show=d.show,h.hide=d.hide;var i=Object.create(HTMLElement.prototype);i.show=d.show,i.hide=d.hide;var j=Object.create(HTMLElement.prototype);j["goto"]=d.gotoNoArg;var k=Object.create(HTMLElement.prototype);for(k.bind=d.bindData,document.registerElement("qk-page",{prototype:h}),document.registerElement("qk-const",{prototype:i}),document.registerElement("qk-link",{prototype:j}),document.registerElement("qk-data",{prototype:k}),e(),a=document.querySelectorAll("qk-page"),b=document.querySelectorAll("qk-data"),h=0,i=b.length;h<i;h++)b[h].bind(b[h]);for(g=c=f.pageById(g.home),h=0,i=a.length;h<i;h++)a[h].hide();a[g].show()}}};